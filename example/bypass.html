<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Secure Trading Example Form</title>
  </head>

  <body>
    <form id="st-form" class="example-form">
      <h1 class="example-form__title">
        Secure Trading<span>AMOUNT: <strong>10.00 GBP</strong></span>
      </h1>

      <div class="example-form__section example-form__section--horizontal">
        <div class="example-form__group">
          <label for="example-form-name" class="example-form__label">NAME</label>
          <input
            id="example-form-name"
            class="example-form__input"
            type="text"
            placeholder="John Doe"
            autocomplete="name"
            name="myBillName"
            data-st-name="billingfirstname"
          />
        </div>
        <div class="example-form__group">
          <label for="example-form-email" class="example-form__label">E-MAIL</label>
          <input
            id="example-form-email"
            class="example-form__input"
            type="email"
            placeholder="test@mail.com"
            autocomplete="email"
            name="myBillEmail"
            data-st-name="billingemail"
          />
        </div>
        <div class="example-form__group">
          <label for="example-form-phone" class="example-form__label">PHONE</label>
          <input
            id="example-form-phone"
            class="example-form__input"
            type="tel"
            placeholder="+00 000 000 000"
            autocomplete="tel"
            name="myBillTel"
          />
          <!-- no data-st-name attribute so this field will not be submitted to ST -->
        </div>
      </div>

      <div class="example-form__spacer"></div>

      <div class="example-form__section">
        <div id="st-notification-frame" class="example-form__group"></div>
        <div id="st-card-number" class="example-form__group"></div>
        <div id="st-expiration-date" class="example-form__group"></div>
        <div id="st-security-code" class="example-form__group"></div>
        <div class="example-form__spacer"></div>
      </div>

      <div class="example-form__section">
        <div class="example-form__group">
          <button type="submit" class="example-form__button"></button>
        </div>
      </div>

      <div class="example-form__section">
        <div id="st-control-frame" class="example-form__group"></div>
        <div id="st-visa-checkout" class="example-form__group"></div>
        <div id="st-apple-pay" class="example-form__group"></div>
      </div>
      <div id="st-animated-card" class="st-animated-card-wrapper"></div>
    </form>
    <script type="text/javascript" src="st.js"></script>
    <script>
      (function() {
        var parsedUrl = new URL(window.location.href);

        var cardinalJwt =
          'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJsaXZlMl9hdXRvand0IiwiaWF0IjoxNTYxNzI2Njc1LjkxNDc0NzUsInBheWxvYWQiOnsiYmFzZWFtb3VudCI6IjEwMDAiLCJhY2NvdW50dHlwZWRlc2NyaXB0aW9uIjoiRUNPTSIsImN1cnJlbmN5aXNvM2EiOiJHQlAiLCJzaXRlcmVmZXJlbmNlIjoidGVzdDEiLCJsb2NhbGUiOiJlbl9HQiJ9fQ.3v6BB1roly1arJ-Or2FnbPQw7Nod93Qnt5yI72hoI3E';
        var byPassJwt =
          'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJSZWZlcmVuY2VJZCI6IjQyLWYzYThjNDk0YWNkYzY2MDcyOTc4YzY0ODg4ZWY5Mjk4ZDE4YWE1ZDRkMzUwNjBmZTQzNmFmN2M1YzI1NDVhM2QiLCJpc3MiOiI1YzEyODg0NWMxMWI5MjIwZGMwNDZlOGUiLCJqdGkiOiI0Mi1mM2E4YzQ5NGFjZGM2NjA3Mjk3OGM2NDg4OGVmOTI5OGQxOGFhNWQ0ZDM1MDYwZmU0MzZhZjdjNWMyNTQ1YTNkIiwiaWF0IjoxNTYxNzI2ODA5LCJQYXlsb2FkIjp7Ik9yZGVyRGV0YWlscyI6eyJBbW91bnQiOjEwMDAsIkN1cnJlbmN5Q29kZSI6IjgyNiJ9fSwiT3JnVW5pdElkIjoiNWMxMTNlOGU2ZmUzZDEyNDYwMTQxODY4In0.GIpwP_MWbocwOkexF_AE1Bo0LuIYsXWFcKWog4EaygA';

        var jwt = parsedUrl.searchParams.get('jwt') || cardinalJwt;

        var st = SecureTrading({
          jwt: jwt, // Can't use property shorthand because it isn't supported by IE
          init: {
            threedinit: byPassJwt,
            cachetoken:
              'eyJkYXRhY2VudGVydXJsIjogbnVsbCwgImNhY2hldG9rZW4iOiAiNDItZjNhOGM0OTRhY2RjNjYwNzI5NzhjNjQ4ODhlZjkyOThkMThhYTVkNGQzNTA2MGZlNDM2YWY3YzVjMjU0NWEzZCJ9'
          },
          styles: {
            'background-color-input': 'AliceBlue',
            'background-color-input-error': '#f8d7da',
            'color-input-error': '#721c24',
            'font-size-input': '12px',
            'line-height-input': '12px'
          },
          submitOnSuccess: false
        });

        st.Components();

        st.ApplePay({
          buttonStyle: 'white-outline',
          buttonText: 'donate',
          merchantId: 'merchant.net.securetrading',
          paymentRequest: {
            countryCode: 'US',
            currencyCode: 'USD',
            merchantCapabilities: ['supports3DS', 'supportsCredit', 'supportsDebit'],
            supportedNetworks: [],
            total: {
              label: 'Secure Trading Merchant',
              amount: '10.00'
            }
          },
          placement: 'st-apple-pay'
        });

        st.VisaCheckout({
          buttonSettings: {
            size: '154',
            color: 'neutral'
          },
          livestatus: 0,
          merchantId: 'SDUT1MEXJO10RARJF2S521ImTyKfn3_JmxePdXcydQIUb4kx4',
          paymentRequest: {
            subtotal: '20.00'
          },
          placement: 'st-visa-checkout',
          settings: {
            displayName: 'My Test Site'
          }
        });
      })();
    </script>
  </body>
</html>
